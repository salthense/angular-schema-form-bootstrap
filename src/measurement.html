<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}"
     ng-class="{'has-error': form.disableErrorState !== true && hasError(), 'has-success': form.disableSuccessState !== true && hasSuccess(), 'has-feedback': form.feedback !== false}">
  <label class="control-label {{form.labelHtmlClass}}" ng-class="{'sr-only': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label>
  <button class="btn btn-default" type="button" data-toggle="modal" data-target="#measurementModal{{form.key.slice(-1)[0]}}">{{::form.i18n.insertDataBtn || 'insert data'}}</button>

  <input ng-show="form.key"
         type="number"
         step="any"
         sf-changed="form"
         placeholder="{{form.placeholder}}"
         class="form-control {{form.fieldHtmlClass}}"
         id="{{form.key.slice(-1)[0]}}"
         sf-field-model
         ng-disabled="true"
         measurements
         schema-validate="form"
         name="{{form.key.slice(-1)[0]}}"
         aria-describedby="{{form.key.slice(-1)[0] + 'Status'}}">

  <span ng-if="form.feedback !== false"
        class="form-control-feedback"
        ng-class="evalInScope(form.feedback) || {'glyphicon': true, 'glyphicon-ok': hasSuccess(), 'glyphicon-remove': hasError(), 'glyphicon-warning-sign': hasWarning() }"
        aria-hidden="true"></span>

  <span ng-if="hasError() || hasSuccess()"
        id="{{form.key.slice(-1)[0] + 'Status'}}"
        class="sr-only">{{ hasSuccess() ? '(success)' : '(error)' }}</span>

  <div class="help-block" sf-message="form.description"></div>

  <div id="measurementModal{{form.key.slice(-1)[0]}}" class="modal fade" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <div class="modal-title">{{::form.i18n.modalTitle || 'please insert data for'}}: {{form.title}}</div>
        </div>
        <div class="modal-body">
          <div class="row">
            <div id="measurementContainer{{form.key.slice(-1)[0]}}">
              <div ng-repeat="i in [] | range: form.measurementOptions.fields" class="col-md-6">
                <input class="form-control" type="text" ng-model="$parent.measurements[i]" ng-change="calculateValue(form)">
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="resetBtn{{form.key.slice(-1)[0]}}" class="btn btn-default" type="button" ng-click="reset(form)">{{::form.i18n.resetDataBtn || 'reset'}}</button>
        </div>
      </div>
    </div>
  </div>
</div>
