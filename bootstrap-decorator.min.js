function elementInViewport(e,t){var a=e.getBoundingClientRect(),t=t||0;return a.bottom>0+t&&a.top<window.innerHeight+t}function markActiveTab(){$(".btn-jump-to:focus").blur(),$(".btn-jump-to.active").removeClass("active"),$(".tab-pane.active .panel-section").each(function(e){if(elementInViewport($(".panel-section")[e],150))return $("span:nth-child("+(3+e)+") .btn-jump-to").addClass("active"),!1})}angular.module("schemaForm").run(["$templateCache",function(e){e.put("decorators/bootstrap/actions-trcl.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-class="{{form.ngClass}}" ng-transclude=""></div>'),e.put("decorators/bootstrap/actions.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-class="{{form.ngClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'),e.put("decorators/bootstrap/array.html",'<div class="schema-form-array {{form.htmlClass}}" ng-class="{{form.ngClass}}" sf-field-model="sf-new-array" sf-new-array=""><legend class="control-label" ng-show="showTitle()">{{ form.title }}</legend><ol class="list-group" sf-field-model="" ui-sortable="form.sortOptions"><li class="list-group-item {{form.fieldHtmlClass}}" schema-form-array-items="" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" ng-disabled="form.schema.minItems >= modelArray.length" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></li></ol><div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" ng-disabled="form.schema.maxItems <= modelArray.length" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div></div>'),e.put("decorators/bootstrap/checkbox.html",'<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span> <span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-warning-sign\': hasWarning() }" aria-hidden="true"></span></label><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/checkboxes.html",'<div sf-field-model="sf-new-array" sf-new-array="" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/default.html",'<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError(), \'glyphicon-warning-sign\': hasWarning() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/exmodule.html",'<div sf-field-model="sf-exmodule" sf-exmodule="" class="{{form.outerClass}}"><div class="{{form.htmlClass}}"><div class="sfExmodule" ng-click="clickEvent()"><span ng-if="form.labelClass" ng-class="form.labelClass"></span> {{ form.label }}</div></div></div>'),e.put("decorators/bootstrap/fieldset.html",'<div class="{{form.outerClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><fieldset ng-disabled="form.readonly" class="sf-content schema-form-fieldset {{form.htmlClass}}" ng-class="{{form.ngClass}}"><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div></fieldset></div>'),e.put("decorators/bootstrap/help.html",'<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-class="{{form.ngClass}}" ng-bind-html="form.helpvalue"></div>'),e.put("decorators/bootstrap/image.html",'<div class="form-group {{ form.htmlClass }}"><label class="control-label" ng-class="{\'sr-only\': !showTitle(), \'{{form.labelHtmlClass}}\': true}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <a colorbox="" class="image-lightbox" ng-href="types/{{ schema.title }}/images/{{ form.file }}"><img ng-src="types/{{ schema.title }}/images/thumbnail_{{ form.file }}"></a></div>Test: {{form.labelHtmlClass}}'),e.put("decorators/bootstrap/link.html",'<div class="schema-form-link {{form.outerClass}}" ng-class="{{form.ngClass}}" sf-field-model="" sf-link=""><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label><div><input ng-model="inputValue" ng-change="change()" typeahead-on-select="setLink($item, $model, $label, $event, $index)"> <span class="glyphicon" ng-class="{\'glyphicon-remove\': !isValueSet, \'glyphicon-ok\': isValueSet}"></span></div></div>'),e.put("decorators/bootstrap/linkRepresentation.html",'<div sf-field-model="" sf-link-representation=""><div ng-if="representationDatas !== undefined" ng-include="\'types/\' + recordTitle + \'/\' + template"></div></div>'),e.put("decorators/bootstrap/matrix.html",'<div class="schema-form-matrix {{form.htmlClass}}" ng-class="{{form.ngClass}}" sf-field-model="sf-matrix" sf-matrix=""><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><table class="table"><thead><tr><th></th><th ng-repeat="column in matrixColumns">{{column}}</th></tr></thead><tbody><tr ng-repeat="row in matrixRows track by $index" ng-class="rowClass($index)" class="matrix-row-{{row | alphaNumeric}}"><td colspan="{{1 + matrixColumns.length}}" ng-show="!activeGroups[getGroupForRow($index).group - 1] && isFirstInGroup($index)"><button type="button" name="button" ng-click="activeGroups[getGroupForRow($index).group - 1] = true"><span class="glyphicon glyphicon-plus"></span></button></td><td ng-show="activeGroups[getGroupForRow($index).group - 1]">{{row}}</td><td ng-show="activeGroups[getGroupForRow($parent.$index).group - 1]" ng-repeat="column in matrixColumns"><input type="checkbox" ng-disabled="form.readonly" ng-model="matrixElements[matrixMap[row][column]].selected" ng-change="setGroupState($parent.$index, matrixElements[matrixMap[row][column]].selected)" class="{{form.fieldHtmlClass}}"></td></tr></tbody></table></div>'),e.put("decorators/bootstrap/measurement.html",'<div class="schema-form-array {{form.htmlClass}}" ng-class="{{form.ngClass}}" sf-field-model="sf-new-array" sf-new-array=""><button class="btn btn-default" type="button" data-toggle="modal" data-target="#measurementModal{{form.key.slice(-1)[0]}}">{{::form.i18n.insertDataBtn || \'insert data\'}}</button><div id="measurementModal{{form.key.slice(-1)[0]}}" class="modal fade" tabindex="-1" measurements=""><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-title">{{::form.i18n.modalTitle || \'please insert data for\'}}: {{form.title}}</div></div><div class="modal-body"><div class="row"><div id="measurementContainer{{form.key.slice(-1)[0]}}"><ol class="list-group" sf-field-model="" ui-sortable="form.sortOptions"><li class="list-group-item measurement {{form.fieldHtmlClass}}" schema-form-array-items="" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index"></li></ol><div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div></div><div class="modal-footer"><button id="resetBtn{{form.key.slice(-1)[0]}}" class="btn btn-default" type="button" ng-click="reset(form)">{{::form.i18n.resetDataBtn || \'reset\'}}</button></div></div></div></div></div></div>'),e.put("decorators/bootstrap/measurementValue.html",'<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}} col-md-6 measurementValue" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError(), \'glyphicon-warning-sign\': hasWarning() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/panel.html",'<div ng-disabled="form.readonly" class="block-{{form.title}} panel schema-form-fieldset {{form.htmlClass}} panel-section" ng-class="{{form.ngClass}}"><div class="panel-heading" ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</div><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div><div class="sf-content panel-body"></div></div>'),e.put("decorators/bootstrap/radio-buttons.html",'<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label sf-field-model="replaceAll" class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/radios-inline.html",'<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{{form.ngClass}}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()" sf-field-model="" schema-validate="form">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/radios.html",'<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{{form.ngClass}}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/relation.html",'<div class="schema-form-relation {{form.outerClass}}" ng-class="{{form.ngClass}}" sf-field-model="sf-relation" sf-relation=""><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><div ng-if="records.length === 0 || records === undefined">Keine Verknüpfungen gefunden</div><div ng-if="records.length > 0" class="{{form.htmlClass}}" ng-repeat="record in records"><div ng-click="editRecord(record)" ng-include="\'types/\' + recordTitle + \'/recordRepresentationRelation.html\'" class="{{form.innerClass}}"></div><div ng-if="relations !== undefined && linkedSchemaTitle !== undefined" ng-include="\'types/\' + linkedSchemaTitle + \'/relationList.html\'"></div></div></div>'),e.put("decorators/bootstrap/section.html",'<div class="schema-form-section {{form.htmlClass}}" ng-class="{{form.ngClass}}"></div>'),e.put("decorators/bootstrap/select.html",'<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{{form.ngClass}}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select sf-field-model="" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-warning-sign\': hasWarning() }" aria-hidden="true"></span><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/submit.html",'<div class="form-group schema-form-submit {{form.htmlClass}}" ng-class="{{form.ngClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'),e.put("decorators/bootstrap/tabarray.html",'<div ng-init="selected = { tab: 0 }" ng-model="modelArray" schema-validate="form" sf-field-model="sf-new-array" sf-new-array="" ng-class="{{form.ngClass}}" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix tab{{selected.tab}} index{{$index}}" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><div schema-form-array-items=""></div><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" ng-disabled="form.schema.minItems >= modelArray.length" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div>'),e.put("decorators/bootstrap/tabs.html",'<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}" ng-class="{{form.ngClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" class="panel-{{schema.title.toLowerCase()}}-{{tab.title.toLowerCase()}}" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"></div></div>'),e.put("decorators/bootstrap/textarea.html",'<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span class="help-block" sf-message="form.description"></span></div>')}]),function(e,t,a){function s(a,s,o){var l=t.createElement(a);return s&&(l.id=Z+s),o&&(l.style.cssText=o),e(l)}function o(){return a.innerHeight?a.innerHeight:e(a).height()}function l(t,a){a!==Object(a)&&(a={}),this.cache={},this.el=t,this.value=function(t){var s;return void 0===this.cache[t]&&(s=e(this.el).attr("data-cbox-"+t),void 0!==s?this.cache[t]=s:void 0!==a[t]?this.cache[t]=a[t]:void 0!==X[t]&&(this.cache[t]=X[t])),this.cache[t]},this.get=function(t){var a=this.value(t);return e.isFunction(a)?a.call(this.el,this):a}}function i(e){var t=E.length,a=(O+e)%t;return a<0?t+a:a}function r(e,t){return Math.round((/%/.test(e)?("x"===t?S.width():o())/100:1)*parseInt(e,10))}function n(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function d(e,t){return e.get("retinaUrl")&&a.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function c(e){"contains"in y[0]&&!y[0].contains(e.target)&&e.target!==v[0]&&(e.stopPropagation(),y.focus())}function m(e){m.str!==e&&(y.add(v).removeClass(m.str).addClass(e),m.str=e)}function f(t){O=0,t&&t!==!1&&"nofollow"!==t?(E=e("."+ee).filter(function(){var a=e.data(this,Y),s=new l(this,a);return s.get("rel")===t}),O=E.index(B.el),O===-1&&(E=E.add(B.el),O=E.length-1)):E=e(B.el)}function h(a){e(t).trigger(a),re.triggerHandler(a)}function p(a){var o;if(!z){if(o=e(a).data(Y),B=new l(a,o),f(B.get("rel")),!_){_=q=!0,m(B.get("className")),y.css({visibility:"hidden",display:"block",opacity:""}),H=s(ne,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),x.css({width:"",height:""}).append(H),N=C.height()+T.height()+x.outerHeight(!0)-x.height(),P=k.width()+$.width()+x.outerWidth(!0)-x.width(),V=H.outerHeight(!0),G=H.outerWidth(!0);var i=r(B.get("initialWidth"),"x"),n=r(B.get("initialHeight"),"y"),d=B.get("maxWidth"),p=B.get("maxHeight");B.w=Math.max((d!==!1?Math.min(i,r(d,"x")):i)-G-P,0),B.h=Math.max((p!==!1?Math.min(n,r(p,"y")):n)-V-N,0),H.css({width:"",height:B.h}),Q.position(),h(te),B.get("onOpen"),D.add(I).hide(),y.focus(),B.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",c,!0),re.one(le,function(){t.removeEventListener("focus",c,!0)})),B.get("returnFocus")&&re.one(le,function(){e(B.el).focus()})}var u=parseFloat(B.get("opacity"));v.css({opacity:u===u?u:"",cursor:B.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),B.get("closeButton")?W.html(B.get("close")).appendTo(x):W.appendTo("<div/>"),b()}}function u(){y||(J=!1,S=e(a),y=s(ne).attr({id:Y,"class":e.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),v=s(ne,"Overlay").hide(),M=e([s(ne,"LoadingOverlay")[0],s(ne,"LoadingGraphic")[0]]),w=s(ne,"Wrapper"),x=s(ne,"Content").append(I=s(ne,"Title"),j=s(ne,"Current"),L=e('<button type="button"/>').attr({id:Z+"Previous"}),R=e('<button type="button"/>').attr({id:Z+"Next"}),F=e('<button type="button"/>').attr({id:Z+"Slideshow"}),M),W=e('<button type="button"/>').attr({id:Z+"Close"}),w.append(s(ne).append(s(ne,"TopLeft"),C=s(ne,"TopCenter"),s(ne,"TopRight")),s(ne,!1,"clear:left").append(k=s(ne,"MiddleLeft"),x,$=s(ne,"MiddleRight")),s(ne,!1,"clear:left").append(s(ne,"BottomLeft"),T=s(ne,"BottomCenter"),s(ne,"BottomRight"))).find("div div").css({"float":"left"}),A=s(ne,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),D=R.add(L).add(j).add(F)),t.body&&!y.parent().length&&e(t.body).append(v,y.append(w,A))}function g(){function a(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),p(this))}return!!y&&(J||(J=!0,R.click(function(){Q.next()}),L.click(function(){Q.prev()}),W.click(function(){Q.close()}),v.click(function(){B.get("overlayClose")&&Q.close()}),e(t).bind("keydown."+Z,function(e){var t=e.keyCode;_&&B.get("escKey")&&27===t&&(e.preventDefault(),Q.close()),_&&B.get("arrowKey")&&E[1]&&!e.altKey&&(37===t?(e.preventDefault(),L.click()):39===t&&(e.preventDefault(),R.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Z,"."+ee,a):e("."+ee).live("click."+Z,a)),!0)}function b(){var t,o,l,i=Q.prep,c=++de;if(q=!0,K=!1,h(ie),h(ae),B.get("onLoad"),B.h=B.get("height")?r(B.get("height"),"y")-V-N:B.get("innerHeight")&&r(B.get("innerHeight"),"y"),B.w=B.get("width")?r(B.get("width"),"x")-G-P:B.get("innerWidth")&&r(B.get("innerWidth"),"x"),B.mw=B.w,B.mh=B.h,B.get("maxWidth")&&(B.mw=r(B.get("maxWidth"),"x")-G-P,B.mw=B.w&&B.w<B.mw?B.w:B.mw),B.get("maxHeight")&&(B.mh=r(B.get("maxHeight"),"y")-V-N,B.mh=B.h&&B.h<B.mh?B.h:B.mh),t=B.get("href"),U=setTimeout(function(){M.show()},100),B.get("inline")){var m=e(t).eq(0);l=e("<div>").hide().insertBefore(m),re.one(ie,function(){l.replaceWith(m)}),i(m)}else B.get("iframe")?i(" "):B.get("html")?i(B.get("html")):n(B,t)?(t=d(B,t),K=B.get("createImg"),e(K).addClass(Z+"Photo").bind("error."+Z,function(){i(s(ne,"Error").html(B.get("imgError")))}).one("load",function(){c===de&&setTimeout(function(){var t;B.get("retinaImage")&&a.devicePixelRatio>1&&(K.height=K.height/a.devicePixelRatio,K.width=K.width/a.devicePixelRatio),B.get("scalePhotos")&&(o=function(){K.height-=K.height*t,K.width-=K.width*t},B.mw&&K.width>B.mw&&(t=(K.width-B.mw)/K.width,o()),B.mh&&K.height>B.mh&&(t=(K.height-B.mh)/K.height,o())),B.h&&(K.style.marginTop=Math.max(B.mh-K.height,0)/2+"px"),E[1]&&(B.get("loop")||E[O+1])&&(K.style.cursor="pointer",e(K).bind("click."+Z,function(){Q.next()})),K.style.width=K.width+"px",K.style.height=K.height+"px",i(K)},1)}),K.src=t):t&&A.load(t,B.get("data"),function(t,a){c===de&&i("error"===a?s(ne,"Error").html(B.get("xhrError")):e(this).contents())})}var v,y,w,x,C,k,$,T,E,S,H,A,M,I,j,F,R,L,W,D,B,N,P,V,G,O,K,_,q,z,U,Q,J,X={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title},createImg:function(){var t=new Image,a=e(this).data("cbox-img-attrs");return"object"==typeof a&&e.each(a,function(e,a){t[e]=a}),t},createIframe:function(){var a=t.createElement("iframe"),s=e(this).data("cbox-iframe-attrs");return"object"==typeof s&&e.each(s,function(e,t){a[e]=t}),"frameBorder"in a&&(a.frameBorder=0),"allowTransparency"in a&&(a.allowTransparency="true"),a.name=(new Date).getTime(),a.allowFullscreen=!0,a}},Y="colorbox",Z="cbox",ee=Z+"Element",te=Z+"_open",ae=Z+"_load",se=Z+"_complete",oe=Z+"_cleanup",le=Z+"_closed",ie=Z+"_purge",re=e("<a/>"),ne="div",de=0,ce={},me=function(){function e(){clearTimeout(i)}function t(){(B.get("loop")||E[O+1])&&(e(),i=setTimeout(Q.next,B.get("slideshowSpeed")))}function a(){F.html(B.get("slideshowStop")).unbind(n).one(n,s),re.bind(se,t).bind(ae,e),y.removeClass(r+"off").addClass(r+"on")}function s(){e(),re.unbind(se,t).unbind(ae,e),F.html(B.get("slideshowStart")).unbind(n).one(n,function(){Q.next(),a()}),y.removeClass(r+"on").addClass(r+"off")}function o(){l=!1,F.hide(),e(),re.unbind(se,t).unbind(ae,e),y.removeClass(r+"off "+r+"on")}var l,i,r=Z+"Slideshow_",n="click."+Z;return function(){l?B.get("slideshow")||(re.unbind(oe,o),o()):B.get("slideshow")&&E[1]&&(l=!0,re.one(oe,o),B.get("slideshowAuto")?a():s(),F.show())}}();e[Y]||(e(u),Q=e.fn[Y]=e[Y]=function(t,a){var s,o=this;return t=t||{},e.isFunction(o)&&(o=e("<a/>"),t.open=!0),o[0]?(u(),g()&&(a&&(t.onComplete=a),o.each(function(){var a=e.data(this,Y)||{};e.data(this,Y,e.extend(a,t))}).addClass(ee),s=new l(o[0],t),s.get("open")&&p(o[0])),o):o},Q.position=function(t,a){function s(){C[0].style.width=T[0].style.width=x[0].style.width=parseInt(y[0].style.width,10)-P+"px",x[0].style.height=k[0].style.height=$[0].style.height=parseInt(y[0].style.height,10)-N+"px"}var l,i,n,d=0,c=0,m=y.offset();if(S.unbind("resize."+Z),y.css({top:-9e4,left:-9e4}),i=S.scrollTop(),n=S.scrollLeft(),B.get("fixed")?(m.top-=i,m.left-=n,y.css({position:"fixed"})):(d=i,c=n,y.css({position:"absolute"})),c+=B.get("right")!==!1?Math.max(S.width()-B.w-G-P-r(B.get("right"),"x"),0):B.get("left")!==!1?r(B.get("left"),"x"):Math.round(Math.max(S.width()-B.w-G-P,0)/2),d+=B.get("bottom")!==!1?Math.max(o()-B.h-V-N-r(B.get("bottom"),"y"),0):B.get("top")!==!1?r(B.get("top"),"y"):Math.round(Math.max(o()-B.h-V-N,0)/2),y.css({top:m.top,left:m.left,visibility:"visible"}),w[0].style.width=w[0].style.height="9999px",l={width:B.w+G+P,height:B.h+V+N,top:d,left:c},t){var f=0;e.each(l,function(e){if(l[e]!==ce[e])return void(f=t)}),t=f}ce=l,t||y.css(l),y.dequeue().animate(l,{duration:t||0,complete:function(){s(),q=!1,w[0].style.width=B.w+G+P+"px",w[0].style.height=B.h+V+N+"px",B.get("reposition")&&setTimeout(function(){S.bind("resize."+Z,Q.position)},1),e.isFunction(a)&&a()},step:s})},Q.resize=function(e){var t;_&&(e=e||{},e.width&&(B.w=r(e.width,"x")-G-P),e.innerWidth&&(B.w=r(e.innerWidth,"x")),H.css({width:B.w}),e.height&&(B.h=r(e.height,"y")-V-N),e.innerHeight&&(B.h=r(e.innerHeight,"y")),e.innerHeight||e.height||(t=H.scrollTop(),H.css({height:"auto"}),B.h=H.height()),H.css({height:B.h}),t&&H.scrollTop(t),Q.position("none"===B.get("transition")?0:B.get("speed")))},Q.prep=function(a){function o(){return B.w=B.w||H.width(),B.w=B.mw&&B.mw<B.w?B.mw:B.w,B.w}function r(){return B.h=B.h||H.height(),B.h=B.mh&&B.mh<B.h?B.mh:B.h,B.h}if(_){var c,f="none"===B.get("transition")?0:B.get("speed");H.remove(),H=s(ne,"LoadedContent").append(a),H.hide().appendTo(A.show()).css({width:o(),overflow:B.get("scrolling")?"auto":"hidden"}).css({height:r()}).prependTo(x),A.hide(),e(K).css({"float":"none"}),m(B.get("className")),c=function(){function a(){e.support.opacity===!1&&y[0].style.removeAttribute("filter")}var s,o,r=E.length;_&&(o=function(){clearTimeout(U),M.hide(),h(se),B.get("onComplete")},I.html(B.get("title")).show(),H.show(),r>1?("string"==typeof B.get("current")&&j.html(B.get("current").replace("{current}",O+1).replace("{total}",r)).show(),R[B.get("loop")||O<r-1?"show":"hide"]().html(B.get("next")),L[B.get("loop")||O?"show":"hide"]().html(B.get("previous")),me(),B.get("preloading")&&e.each([i(-1),i(1)],function(){var a,s=E[this],o=new l(s,e.data(s,Y)),i=o.get("href");i&&n(o,i)&&(i=d(o,i),a=t.createElement("img"),a.src=i)})):D.hide(),B.get("iframe")?(s=B.get("createIframe"),B.get("scrolling")||(s.scrolling="no"),e(s).attr({src:B.get("href"),"class":Z+"Iframe"}).one("load",o).appendTo(H),re.one(ie,function(){s.src="//about:blank"}),B.get("fastIframe")&&e(s).trigger("load")):o(),"fade"===B.get("transition")?y.fadeTo(f,1,a):a())},"fade"===B.get("transition")?y.fadeTo(f,0,function(){Q.position(0,c)}):Q.position(f,c)}},Q.next=function(){!q&&E[1]&&(B.get("loop")||E[O+1])&&(O=i(1),p(E[O]))},Q.prev=function(){!q&&E[1]&&(B.get("loop")||O)&&(O=i(-1),p(E[O]))},Q.close=function(){_&&!z&&(z=!0,_=!1,h(oe),B.get("onCleanup"),S.unbind("."+Z),v.fadeTo(B.get("fadeOut")||0,0),y.stop().fadeTo(B.get("fadeOut")||0,0,function(){y.hide(),v.hide(),h(ie),H.remove(),setTimeout(function(){z=!1,h(le),B.get("onClosed")},1)}))},Q.remove=function(){y&&(y.stop(),e[Y].close(),y.stop(!1,!0).remove(),v.remove(),z=!1,
y=null,e("."+ee).removeData(Y).removeClass(ee),e(t).unbind("click."+Z).unbind("keydown."+Z))},Q.element=function(){return e(B.el)},Q.settings=X)}(jQuery,document,window);var app=angular.module("schemaForm");app.config(["schemaFormDecoratorsProvider","sfBuilderProvider","sfPathProvider",function(e,t,a){var s="decorators/bootstrap/",o=t.builders.simpleTransclusion,l=t.builders.ngModelOptions,i=t.builders.ngModel,r=t.builders.sfField,n=t.builders.condition,d=t.builders.array,c=t.builders.attributes,m=t.builders.typeahead,f=t.builders.userTypeahead,h=t.builders.link,p=t.builders.measurement,u=(t.builders.measurementValue,t.builders.addon),g=function(e){if(e.form.tabs&&e.form.tabs.length>0){var t=e.fieldFrag.querySelector(".tab-content");e.form.tabs.forEach(function(a,s){var o=document.createElement("div");o.className="tab-pane",o.setAttribute("ng-disabled","form.readonly"),o.setAttribute("ng-show","selected.tab === "+s),o.setAttribute("ng-class","{active: selected.tab === "+s+"}");var l=document.createElement("div");l.className="tab-content-wrap",o.appendChild(l);var i=e.build(a.items,e.path+".tabs["+s+"].items",e.state);if(a.jumpToNavigation){$(t).addClass("contains-jump-to-navigation");var r=document.createElement("div");r.className="btn-group-wrap jump-to-wrap";var n=document.createElement("div");n.setAttribute("class","btn-group affix-btn-group");var d=document.createElement("button");d.setAttribute("type","button"),d.setAttribute("class","btn btn-info btn-jump-to btn-jump-to-top");var c=document.createElement("span");c.setAttribute("class","glyphicon glyphicon-chevron-up"),d.appendChild(c),d.addEventListener("click",function(){window.scrollTo(0,0)});var m=document.createElement("span");m.appendChild(d),n.appendChild(m);var f=document.createElement("button");f.setAttribute("type","button"),f.setAttribute("class","btn btn-info btn-jump-to btn-jump-to-bottom");var h=document.createElement("span");h.setAttribute("class","glyphicon glyphicon-chevron-down"),f.appendChild(h),f.addEventListener("click",function(){window.scrollTo(0,$(f).parents("form")[0].getBoundingClientRect().bottom)});var p=document.createElement("span");p.appendChild(f),n.appendChild(p),a.items.forEach(function(e,t){var o=i.childNodes[t],l=document.createElement("button");if(l.setAttribute("type","button"),e.title&&"<"!=e.title.substr(0,1)){var r="btn btn-info btn-jump-to jump-to-"+e.title.toLowerCase().replace(/\W+/g,"-");0==s&&0==t&&(r="active "+r),l.setAttribute("class",r)}else l.setAttribute("class","btn btn-info btn-jump-to");l.textContent=e.title,l.addEventListener("click",function(){window.scrollTo($(o).offset().left,$(o).offset().top-a.jumpToNavigation.offset)});var d=document.createElement("span");d.appendChild(l),n.appendChild(d)}),r.appendChild(n),o.insertBefore(r,o.firstChild),a.jumpToNavigation.affix&&$(n).affix({offset:{top:function(){return $(n).parent().offset().top-a.jumpToNavigation.offset}}}).on("affix.bs.affix",function(){r.style.height=$(r).outerHeight()+"px"})}l.appendChild(i),t.appendChild(o)})}},b=function(e){var t=e.build(e.form.items,e.path+".items",e.state),a=e.fieldFrag.firstChild.querySelector(".sf-content")||e.fieldFrag.firstChild;a.appendChild(t)},v=[r,i,l,n,c,m,f,u];e.defineDecorator("bootstrapDecorator",{textarea:{template:s+"textarea.html",builder:v},fieldset:{template:s+"fieldset.html",builder:[r,b,n]},panel:{template:s+"panel.html",builder:[r,b,n]},array:{template:s+"array.html",builder:[r,l,i,d,n]},matrix:{template:s+"matrix.html",builder:[r,l,i,n]},relation:{template:s+"relation.html",builder:[r,l,i,n]},link:{template:s+"link.html",builder:[r,l,i,n,h]},linkRepresentation:{template:s+"linkRepresentation.html",builder:[r,l,i,n]},exmodule:{template:s+"exmodule.html",builder:[r,l,i,n]},tabarray:{template:s+"tabarray.html",builder:[r,l,i,d,n]},tabs:{template:s+"tabs.html",builder:[r,l,g,n]},section:{template:s+"section.html",builder:[r,o,n]},conditional:{template:s+"section.html",builder:[r,o,n]},actions:{template:s+"actions.html",builder:v},select:{template:s+"select.html",builder:v},checkbox:{template:s+"checkbox.html",builder:v},checkboxes:{template:s+"checkboxes.html",builder:[r,l,i,d,n]},number:{template:s+"default.html",builder:v},measurement:{template:s+"measurement.html",builder:[r,i,l,n,d,p]},measurementValue:{template:s+"measurementValue.html",builder:v},password:{template:s+"default.html",builder:v},submit:{template:s+"submit.html",builder:v},button:{template:s+"submit.html",builder:v},radios:{template:s+"radios.html",builder:v},"radios-inline":{template:s+"radios-inline.html",builder:v},radiobuttons:{template:s+"radio-buttons.html",builder:v},help:{template:s+"help.html",builder:v},image:{template:s+"image.html",builder:v},"default":{template:s+"default.html",builder:v}},[])}]),app.filter("alphaNumeric",function(){return function(e){return e.replace(/\W/g,"")}}),window.addEventListener("scroll",markActiveTab),window.addEventListener("click",markActiveTab),app.directive("colorbox",function(){return{controller:function(){$(".image-lightbox").colorbox()}}}),app.filter("range",function(){return function(e,t){t=parseInt(t);for(var a=0;a<t;a++)e.push(a);return e}});